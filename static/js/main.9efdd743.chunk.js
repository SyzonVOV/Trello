(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{42:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(31),c=n.n(i),o=(n(42),n(4)),l=n(5);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"m455.1,137.9l-32.4,32.4-81-81.1 32.4-32.4c6.6-6.6 18.1-6.6 24.7,0l56.3,56.4c6.8,6.8 6.8,17.9 0,24.7zm-270.7,271l-81-81.1 209.4-209.7 81,81.1-209.4,209.7zm-99.7-42l60.6,60.7-84.4,23.8 23.8-84.5zm399.3-282.6l-56.3-56.4c-11-11-50.7-31.8-82.4,0l-285.3,285.5c-2.5,2.5-4.3,5.5-5.2,8.9l-43,153.1c-2,7.1 0.1,14.7 5.2,20 5.2,5.3 15.6,6.2 20,5.2l153-43.1c3.4-0.9 6.4-2.7 8.9-5.2l285.1-285.5c22.7-22.7 22.7-59.7 0-82.5z"})));function f(e,t){var n=e.title,a=e.titleId,i=s(e,["title","titleId"]);return r.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,u)}var p=r.forwardRef(f);n.p;function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var g=r.createElement("g",null,r.createElement("rect",{x:125.865,y:0,width:127.297,height:24.745}),r.createElement("rect",{x:64.209,y:117.231,width:250.609,height:261.796}),r.createElement("polygon",{points:"356.586,105.297 326.752,105.297 52.276,105.297 22.441,105.297 22.441,36.678 113.931,36.678 265.096,36.678 356.586,36.678 "})),x=r.createElement("g",null),O=r.createElement("g",null),h=r.createElement("g",null),m=r.createElement("g",null),v=r.createElement("g",null),y=r.createElement("g",null),w=r.createElement("g",null),I=r.createElement("g",null),E=r.createElement("g",null),k=r.createElement("g",null),S=r.createElement("g",null),A=r.createElement("g",null),C=r.createElement("g",null),T=r.createElement("g",null),D=r.createElement("g",null);function P(e,t){var n=e.title,a=e.titleId,i=j(e,["title","titleId"]);return r.createElement("svg",b({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 379.027 379.027",xmlSpace:"preserve",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,g,x,O,h,m,v,y,w,I,E,k,S,A,C,T,D)}var L,_,M,R,B,N,z,G,K,U,V,H,J,Z,q,F,Q=r.forwardRef(P),W=(n.p,l.a.div(L||(L=Object(o.a)(["\n  transform: ",";\n  opacity: ",";\n"])),(function(e){return e.isPreview?"rotate(5deg)":void 0}),(function(e){return e.isHidden?0:1}))),X=l.a.div(_||(_=Object(o.a)(["\n  align-items: flex-start;\n  background-color: #3179ba;\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  padding: 20px;\n  width: 100%;\n"]))),Y=Object(l.a)(W)(M||(M=Object(o.a)(["\n  background-color: #ebecf0;\n  width: 300px;\n  min-height: 40px;\n  margin-right: 20px;\n  border-radius: 3px;\n  padding: 8px 8px;\n  flex-grow: 0;\n"]))),$=l.a.div(R||(R=Object(o.a)(["\n  padding: 6px 16px 12px;\n  font-weight: bold;\n"]))),ee=Object(l.a)(W)(B||(B=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  background-color: #fff;\n  cursor: pointer;\n  margin-bottom: 0.5rem;\n  padding: 0.5rem 1rem;\n  max-width: 300px;\n  border-radius: 3px;\n  box-shadow: #091e4240 0 1px 0 0;\n"]))),te=l.a.button(N||(N=Object(o.a)(["\n  background-color: #ffffff3d;\n  border-radius: 3px;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  max-width: 300px;\n  padding: 10px 12px;\n  text-align: left;\n  transition: background 85ms ease-in;\n  width: 100%;\n\n  &:hover {\n    background-color: #ffffff52;\n  }\n"])),(function(e){return e.dark?"#000":"#fff"})),ne=l.a.div(z||(z=Object(o.a)(["\n  max-width: 300px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: flex-start;\n"]))),re=l.a.button(G||(G=Object(o.a)(["\n  background-color: #5aac44;\n  border-radius: 3px;\n  border: none;\n  box-shadow: none;\n  color: #fff;\n  padding: 6px 12px;\n  text-align: center;\n"]))),ae=l.a.input(K||(K=Object(o.a)(["\n  border-radius: 3px;\n  border: none;\n  box-shadow: #091e4240 0 1px 0 0;\n  margin-bottom: 0.5rem;\n  padding: 0.5rem 1rem;\n  width: 100%;\n"]))),ie=l.a.div(U||(U=Object(o.a)(["\n  height: 100%;\n  left: 0;\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 100;\n"]))),ce=l.a.div.attrs((function(e){var t=e.position,n=t.x,r=t.y;return{style:{transform:"translate(".concat(n,"px, ").concat(r,"px)")}}}))(V||(V=Object(o.a)([""]))),oe=Object(l.b)(H||(H=Object(o.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),le=l.a.div(J||(J=Object(o.a)(["\n  display: flex;\n  \n  width: 100vw;\n  height: 100vh;\n  \n  align-items: center;\n  justify-content: center;\n"]))),de=l.a.div(Z||(Z=Object(o.a)(["\n  animation: "," 1s linear infinite;\n  transform: translateZ(0);\n\n  border-top: 2px solid hsl(190deg 70% 80%);;\n  border-right: 2px solid hsl(190deg 70% 80%);;\n  border-bottom: 2px solid hsl(190deg 70% 80%);\n  border-left: 4px solid hsl(190deg 60% 40%);\n  background: transparent;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n"])),oe),se=Object(l.a)(p)(q||(q=Object(o.a)(["\n  width: 16px;\n  height: 16px;\n  fill: #8c8c8c;\n\n  &:hover {\n    fill: #333333;\n  }\n"]))),ue=Object(l.a)(Q)(F||(F=Object(o.a)(["\n  margin-left: 0.2em;\n  width: 16px;\n  height: 16px;\n  fill: #b33636;\n  &:hover {\n    fill: darkred;\n  }\n"]))),fe=n(8),pe=n(3),be=n(56),je=n(17),ge=n(37),xe=n(57),Oe=(n(13),function(e,t){return e.findIndex((function(e){return e.id===t}))});var he=function(e,t){switch(t.type){case"ADD_LIST":e.lists.push({id:Object(xe.a)(),text:t.payload,tasks:[]});break;case"ADD_TASK":var n=t.payload,r=n.text,a=n.listId,i=Oe(e.lists,a);e.lists[i].tasks.push({id:Object(xe.a)(),text:r});break;case"MOVE_LIST":var c=t.payload,o=c.draggedId,l=c.hoverId,d=Oe(e.lists,o),s=Oe(e.lists,l);e.lists=function(e,t,n){var r=n<0?e.length+n:n,a=e.splice(t,1)[0];return e.splice(r,0,a),e}(e.lists,d,s);break;case"MOVE_TASK":var u=t.payload,f=u.draggedItemId,p=u.hoveredItemId,b=u.sourceColumnId,j=u.targetColumnId,g=Oe(e.lists,b),x=Oe(e.lists,j),O=Oe(e.lists[g].tasks,f),h=p?Oe(e.lists[x].tasks,p):0,m=e.lists[g].tasks[O];e.lists[g].tasks.splice(O,1),e.lists[x].tasks.splice(h,0,m);break;case"SET_DRAGGED_ITEM":e.draggedItem=t.payload}},me=n(25),ve=n.n(me),ye=n(35),we=n(2),Ie={lists:[{id:"0",text:"To Do",tasks:[{id:"c0",text:"Generate app scaffold"}]},{id:"1",text:"In Progress",tasks:[{id:"c2",text:"Learn Typescript"}]},{id:"2",text:"Done",tasks:[{id:"c3",text:"Begin to use static typing"}]}],draggedItem:null};var Ee,ke=Object(r.createContext)({}),Se=(Ee=function(e){var t=e.children,n=e.initialState,a=Object(ge.a)(he,n),i=Object(pe.a)(a,2),c=i[0],o=i[1],l=c.draggedItem,d=c.lists;return Object(r.useEffect)((function(){var e;e=c,fetch("".concat("http://localhost:4000","/save"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error("Error while saving the state.")})).catch((function(e){console.log(e)}))}),[c]),Object(we.jsx)(ke.Provider,{value:{draggedItem:l,lists:d,getTasksByListId:function(e){var t;return(null===(t=d.find((function(t){return t.id===e})))||void 0===t?void 0:t.tasks)||[]},dispatch:o},children:t})},function(e){var t=Object(r.useState)({lists:[],draggedItem:null}),n=Object(pe.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(!0),o=Object(pe.a)(c,2),l=o[0],d=o[1],s=Object(r.useState)(),u=Object(pe.a)(s,2),f=u[0];return u[1],Object(r.useEffect)((function(){!function(){var e=Object(ye.a)(ve.a.mark((function e(){var t;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://localhost:4000","/load")).then((function(e){if(e.ok)return e.json();throw new Error("Error while loading the state.")}));case 3:t=e.sent,i(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i(Ie);case 10:d(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[]),l?Object(we.jsx)(le,{children:Object(we.jsx)(de,{})}):f?Object(we.jsx)("div",{children:f.message}):Object(we.jsx)(Ee,Object(fe.a)(Object(fe.a)({},e),{},{initialState:a}))}),Ae=function(){return Object(r.useContext)(ke)},Ce=function(e,t,n,r){return Boolean(!r&&e&&e.type===t&&e.id===n)},Te=n(55),De=n(29),Pe=function(e){return{type:"SET_DRAGGED_ITEM",payload:e}},Le=function(e,t,n,r){return{type:"MOVE_TASK",payload:{draggedItemId:e,hoveredItemId:t,sourceColumnId:n,targetColumnId:r}}},_e=function(e){var t=Ae().dispatch,n=Object(Te.a)({type:e.type,item:function(){return t(Pe(e)),e},end:function(){return t(Pe(null))}}),a=Object(pe.a)(n,3),i=a[1],c=a[2];return Object(r.useEffect)((function(){c(Object(De.a)(),{captureDraggingState:!0})}),[c]),{drag:i}},Me=function(e){var t=e.text,n=e.id,a=e.columnId,i=e.isPreview,c=Object(r.useState)(!1),o=Object(pe.a)(c,2),l=o[0],d=o[1],s=Ae(),u=s.draggedItem,f=s.dispatch,p=Object(r.useRef)(null),b=_e({type:"CARD",id:n,text:t,columnId:a}).drag,j=Object(be.a)({accept:"CARD",hover:Object(je.a)(200,(function(){u&&"CARD"===u.type&&u.id!==n&&(f(Le(u.id,n,u.columnId,a)),f(Pe(Object(fe.a)(Object(fe.a)({},u),{},{columnId:a}))))}))});b((0,Object(pe.a)(j,2)[1])(p));var g=function(){d((function(e){return!e}))};return Object(we.jsxs)(ee,{isHidden:Ce(u,"CARD",n,i),isPreview:i,ref:p,onPointerEnter:g,onPointerLeave:g,children:[t,l&&Object(we.jsxs)("div",{children:[Object(we.jsx)(se,{}),Object(we.jsx)(ue,{})]})]})},Re=function(e){var t=e.onAdd,n=Object(r.useState)(""),a=Object(pe.a)(n,2),i=a[0],c=a[1],o=function(){var e=Object(r.useRef)(null);return Object(r.useLayoutEffect)((function(){var t;null===(t=e.current)||void 0===t||t.focus()})),e}();return Object(we.jsxs)(ne,{children:[Object(we.jsx)(ae,{ref:o,value:i,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t(i)}}),Object(we.jsx)(re,{onClick:function(){return t(i)},children:"Create"})]})},Be=function(e){var t=Object(r.useState)(!1),n=Object(pe.a)(t,2),a=n[0],i=n[1],c=e.onAdd,o=e.toggleButtonText,l=e.dark;return a?Object(we.jsx)(Re,{onAdd:function(e){c(e),i(!1)}}):Object(we.jsx)(te,{dark:l,onClick:function(){return i(!0)},children:o})},Ne=function(e){var t=e.text,n=e.id,a=e.isPreview,i=Ae(),c=i.draggedItem,o=i.getTasksByListId,l=i.dispatch,d=o(n),s=Object(r.useRef)(null),u=Object(be.a)({accept:["COLUMN","CARD"],hover:Object(je.a)(200,(function(){if(c)if("COLUMN"===c.type){if(c.id===n)return;l({type:"MOVE_LIST",payload:{draggedId:c.id,hoverId:n}})}else{if(c.columnId===n)return;if(d.length)return;l(Le(c.id,null,c.columnId,n)),l(Pe(Object(fe.a)(Object(fe.a)({},c),{},{columnId:n})))}}))}),f=Object(pe.a)(u,2)[1];return(0,_e({type:"COLUMN",id:n,text:t}).drag)(f(s)),Object(we.jsxs)(Y,{ref:s,isPreview:a,isHidden:Ce(c,"COLUMN",n,a),children:[Object(we.jsx)($,{children:t}),d.map((function(e){return Object(we.jsx)(Me,{columnId:n,text:e.text,id:e.id},e.id)})),Object(we.jsx)(Be,{toggleButtonText:"+ Add another card",onAdd:function(e){return l(function(e,t){return{type:"ADD_TASK",payload:{text:e,listId:t}}}(e,n))},dark:!0})]})},ze=n(53),Ge=function(){var e=Ae().draggedItem,t=Object(ze.a)((function(e){return{currentOffset:e.getSourceClientOffset()}})).currentOffset;return e&&t?Object(we.jsx)(ie,{children:Object(we.jsx)(ce,{position:t,children:"COLUMN"===e.type?Object(we.jsx)(Ne,{id:e.id,text:e.text,isPreview:!0}):Object(we.jsx)(Me,{columnId:e.columnId,isPreview:!0,id:e.id,text:e.text})})}):null},Ke=function(){var e=Ae(),t=e.lists,n=e.dispatch;return Object(we.jsxs)(X,{children:[Object(we.jsx)(Ge,{}),t.map((function(e){return Object(we.jsx)(Ne,{text:e.text,id:e.id},e.id)})),Object(we.jsx)(Be,{toggleButtonText:"+ Add another list",onAdd:function(e){return n(function(e){return{type:"ADD_LIST",payload:e}}(e))}})]})},Ue=n(23),Ve=n(54);c.a.render(Object(we.jsx)(a.a.StrictMode,{children:Object(we.jsx)(Ve.a,{backend:Ue.a,children:Object(we.jsx)(Se,{children:Object(we.jsx)(Ke,{})})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.9efdd743.chunk.js.map