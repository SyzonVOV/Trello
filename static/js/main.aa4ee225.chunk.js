(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{42:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(31),c=n.n(i),o=(n(42),n(4)),l=n(5);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"m455.1,137.9l-32.4,32.4-81-81.1 32.4-32.4c6.6-6.6 18.1-6.6 24.7,0l56.3,56.4c6.8,6.8 6.8,17.9 0,24.7zm-270.7,271l-81-81.1 209.4-209.7 81,81.1-209.4,209.7zm-99.7-42l60.6,60.7-84.4,23.8 23.8-84.5zm399.3-282.6l-56.3-56.4c-11-11-50.7-31.8-82.4,0l-285.3,285.5c-2.5,2.5-4.3,5.5-5.2,8.9l-43,153.1c-2,7.1 0.1,14.7 5.2,20 5.2,5.3 15.6,6.2 20,5.2l153-43.1c3.4-0.9 6.4-2.7 8.9-5.2l285.1-285.5c22.7-22.7 22.7-59.7 0-82.5z"})));function f(e,t){var n=e.title,a=e.titleId,i=d(e,["title","titleId"]);return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,u)}var p=r.forwardRef(f);n.p;function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var g=r.createElement("g",null,r.createElement("rect",{x:125.865,y:0,width:127.297,height:24.745}),r.createElement("rect",{x:64.209,y:117.231,width:250.609,height:261.796}),r.createElement("polygon",{points:"356.586,105.297 326.752,105.297 52.276,105.297 22.441,105.297 22.441,36.678 113.931,36.678 265.096,36.678 356.586,36.678 "})),O=r.createElement("g",null),x=r.createElement("g",null),h=r.createElement("g",null),m=r.createElement("g",null),v=r.createElement("g",null),y=r.createElement("g",null),I=r.createElement("g",null),w=r.createElement("g",null),E=r.createElement("g",null),k=r.createElement("g",null),S=r.createElement("g",null),C=r.createElement("g",null),A=r.createElement("g",null),T=r.createElement("g",null),D=r.createElement("g",null);function P(e,t){var n=e.title,a=e.titleId,i=j(e,["title","titleId"]);return r.createElement("svg",b({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 379.027 379.027",xmlSpace:"preserve",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,g,O,x,h,m,v,y,I,w,E,k,S,C,A,T,D)}var L,_,M,R,B,N,z,G,K,U,V,H,J,Z,q,F,Q=r.forwardRef(P),W=(n.p,l.a.div(L||(L=Object(o.a)(["\n  transform: ",";\n  opacity: ",";\n"])),(function(e){return e.isPreview?"rotate(5deg)":void 0}),(function(e){return e.isHidden?0:1}))),X=l.a.div(_||(_=Object(o.a)(["\n  align-items: flex-start;\n  background-color: #3179ba;\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  padding: 20px;\n  width: 100%;\n"]))),Y=Object(l.a)(W)(M||(M=Object(o.a)(["\n  background-color: #ebecf0;\n  width: 300px;\n  min-height: 40px;\n  margin-right: 20px;\n  border-radius: 3px;\n  padding: 8px 8px;\n  flex-grow: 0;\n"]))),$=l.a.div(R||(R=Object(o.a)(["\n  padding: 6px 16px 12px;\n  font-weight: bold;\n"]))),ee=Object(l.a)(W)(B||(B=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  background-color: #fff;\n  cursor: pointer;\n  margin-bottom: 0.5rem;\n  padding: 0.5rem 1rem;\n  max-width: 300px;\n  border-radius: 3px;\n  box-shadow: #091e4240 0 1px 0 0;\n"]))),te=l.a.button(N||(N=Object(o.a)(["\n  background-color: #ffffff3d;\n  border-radius: 3px;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  max-width: 300px;\n  padding: 10px 12px;\n  text-align: left;\n  transition: background 85ms ease-in;\n  width: 100%;\n\n  &:hover {\n    background-color: #ffffff52;\n  }\n"])),(function(e){return e.dark?"#000":"#fff"})),ne=l.a.div(z||(z=Object(o.a)(["\n  max-width: 300px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: flex-start;\n"]))),re=l.a.button(G||(G=Object(o.a)(["\n  background-color: #5aac44;\n  border-radius: 3px;\n  border: none;\n  box-shadow: none;\n  color: #fff;\n  padding: 6px 12px;\n  text-align: center;\n"]))),ae=l.a.input(K||(K=Object(o.a)(["\n  border-radius: 3px;\n  border: none;\n  box-shadow: #091e4240 0 1px 0 0;\n  margin-bottom: 0.5rem;\n  padding: 0.5rem 1rem;\n  width: 100%;\n"]))),ie=l.a.div(U||(U=Object(o.a)(["\n  height: 100%;\n  left: 0;\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 100;\n"]))),ce=l.a.div.attrs((function(e){var t=e.position,n=t.x,r=t.y;return{style:{transform:"translate(".concat(n,"px, ").concat(r,"px)")}}}))(V||(V=Object(o.a)([""]))),oe=Object(l.b)(H||(H=Object(o.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),le=l.a.div(J||(J=Object(o.a)(["\n  display: flex;\n  \n  width: 100vw;\n  height: 100vh;\n  \n  align-items: center;\n  justify-content: center;\n"]))),se=l.a.div(Z||(Z=Object(o.a)(["\n  animation: "," 1s linear infinite;\n  transform: translateZ(0);\n\n  border-top: 2px solid hsl(190deg 70% 80%);;\n  border-right: 2px solid hsl(190deg 70% 80%);;\n  border-bottom: 2px solid hsl(190deg 70% 80%);\n  border-left: 4px solid hsl(190deg 60% 40%);\n  background: transparent;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n"])),oe),de=Object(l.a)(p)(q||(q=Object(o.a)(["\n  width: 16px;\n  height: 16px;\n  fill: #8c8c8c;\n\n  &:hover {\n    fill: #333333;\n  }\n"]))),ue=Object(l.a)(Q)(F||(F=Object(o.a)(["\n  margin-left: 0.2em;\n  width: 16px;\n  height: 16px;\n  fill: #b33636;\n  &:hover {\n    fill: darkred;\n  }\n"]))),fe=n(8),pe=n(3),be=n(56),je=n(17),ge=n(37),Oe=n(57),xe=n(13),he=function(e,t){return e.findIndex((function(e){return e.id===t}))};function me(e,t){return[].concat(Object(xe.a)(e.slice(0,t)),Object(xe.a)(e.slice(t+1)))}var ve=function(e,t){switch(t.type){case"ADD_LIST":e.lists.push({id:Object(Oe.a)(),text:t.payload,tasks:[]});break;case"ADD_TASK":var n=t.payload,r=n.text,a=n.listId,i=he(e.lists,a);e.lists[i].tasks.push({id:Object(Oe.a)(),text:r});break;case"MOVE_LIST":var c=t.payload,o=c.draggedId,l=c.hoverId,s=he(e.lists,o),d=he(e.lists,l);e.lists=function(e,t,n){var r=n<0?e.length+n:n,a=e.splice(t,1)[0];return e.splice(r,0,a),e}(e.lists,s,d);break;case"MOVE_TASK":var u=t.payload,f=u.draggedItemId,p=u.hoveredItemId,b=u.sourceColumnId,j=u.targetColumnId,g=he(e.lists,b),O=he(e.lists,j),x=he(e.lists[g].tasks,f),h=p?he(e.lists[O].tasks,p):0,m=e.lists[g].tasks[x];e.lists[g].tasks.splice(x,1),e.lists[O].tasks.splice(h,0,m);break;case"SET_DRAGGED_ITEM":e.draggedItem=t.payload;break;case"DEL_ITEM":var v=he(e.lists,t.payload.listId),y=he(e.lists[v].tasks,t.payload.itemId);e.lists[v].tasks=me(e.lists[v].tasks,y)}},ye=n(25),Ie=n.n(ye),we=n(35),Ee=n(2),ke={lists:[{id:"0",text:"To Do",tasks:[{id:"c0",text:"Generate app scaffold"}]},{id:"1",text:"In Progress",tasks:[{id:"c2",text:"Learn Typescript"}]},{id:"2",text:"Done",tasks:[{id:"c3",text:"Begin to use static typing"}]}],draggedItem:null};var Se,Ce=Object(r.createContext)({}),Ae=(Se=function(e){var t=e.children,n=e.initialState,a=Object(ge.a)(ve,n),i=Object(pe.a)(a,2),c=i[0],o=i[1],l=c.draggedItem,s=c.lists;return Object(r.useEffect)((function(){var e;e=c,fetch("".concat("https://trello-server-app.herokuapp.com","/save"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error("Error while saving the state.")})).catch((function(e){console.log(e)}))}),[c]),Object(Ee.jsx)(Ce.Provider,{value:{draggedItem:l,lists:s,getTasksByListId:function(e){var t;return(null===(t=s.find((function(t){return t.id===e})))||void 0===t?void 0:t.tasks)||[]},dispatch:o},children:t})},function(e){var t=Object(r.useState)({lists:[],draggedItem:null}),n=Object(pe.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(!0),o=Object(pe.a)(c,2),l=o[0],s=o[1],d=Object(r.useState)(),u=Object(pe.a)(d,2),f=u[0],p=u[1];return Object(r.useEffect)((function(){!function(){var e=Object(we.a)(Ie.a.mark((function e(){var t;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://trello-server-app.herokuapp.com","/load")).then((function(e){if(e.ok)return e.json();throw new Error("Error while loading the state.")}));case 3:t=e.sent,i(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i(ke),e.t0 instanceof Error&&p(e.t0);case 11:s(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[]),l?Object(Ee.jsx)(le,{children:Object(Ee.jsx)(se,{})}):f?Object(Ee.jsx)("div",{children:f.message}):Object(Ee.jsx)(Se,Object(fe.a)(Object(fe.a)({},e),{},{initialState:a}))}),Te=function(){return Object(r.useContext)(Ce)},De=function(e,t,n,r){return Boolean(!r&&e&&e.type===t&&e.id===n)},Pe=n(55),Le=n(29),_e=function(e){return{type:"SET_DRAGGED_ITEM",payload:e}},Me=function(e,t,n,r){return{type:"MOVE_TASK",payload:{draggedItemId:e,hoveredItemId:t,sourceColumnId:n,targetColumnId:r}}},Re=function(e){var t=Te().dispatch,n=Object(Pe.a)({type:e.type,item:function(){return t(_e(e)),e},end:function(){return t(_e(null))}}),a=Object(pe.a)(n,3),i=a[1],c=a[2];return Object(r.useEffect)((function(){c(Object(Le.a)(),{captureDraggingState:!0})}),[c]),{drag:i}},Be=function(e){var t=e.text,n=e.id,a=e.columnId,i=e.isPreview,c=Object(r.useState)(!1),o=Object(pe.a)(c,2),l=o[0],s=o[1],d=Te(),u=d.draggedItem,f=d.dispatch,p=Object(r.useRef)(null),b=Re({type:"CARD",id:n,text:t,columnId:a}).drag,j=Object(be.a)({accept:"CARD",hover:Object(je.a)(200,(function(){u&&"CARD"===u.type&&u.id!==n&&(f(Me(u.id,n,u.columnId,a)),f(_e(Object(fe.a)(Object(fe.a)({},u),{},{columnId:a}))))}))});b((0,Object(pe.a)(j,2)[1])(p));var g,O,x=function(){s((function(e){return!e}))};return Object(Ee.jsxs)(ee,{isHidden:De(u,"CARD",n,i),isPreview:i,ref:p,onPointerEnter:x,onPointerLeave:x,children:[t,l&&Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(de,{}),Object(Ee.jsx)(ue,{onClick:(g=a,O=n,function(){console.log("listId => ".concat(g)),console.log("itemId => ".concat(O)),f(function(e,t){return{type:"DEL_ITEM",payload:{listId:e,itemId:t}}}(g,O))})})]})]})},Ne=function(e){var t=e.onAdd,n=Object(r.useState)(""),a=Object(pe.a)(n,2),i=a[0],c=a[1],o=function(){var e=Object(r.useRef)(null);return Object(r.useLayoutEffect)((function(){var t;null===(t=e.current)||void 0===t||t.focus()})),e}();return Object(Ee.jsxs)(ne,{children:[Object(Ee.jsx)(ae,{ref:o,value:i,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t(i)}}),Object(Ee.jsx)(re,{onClick:function(){return t(i)},children:"Create"})]})},ze=function(e){var t=Object(r.useState)(!1),n=Object(pe.a)(t,2),a=n[0],i=n[1],c=e.onAdd,o=e.toggleButtonText,l=e.dark;return a?Object(Ee.jsx)(Ne,{onAdd:function(e){c(e),i(!1)}}):Object(Ee.jsx)(te,{dark:l,onClick:function(){return i(!0)},children:o})},Ge=function(e){var t=e.text,n=e.id,a=e.isPreview,i=Te(),c=i.draggedItem,o=i.getTasksByListId,l=i.dispatch,s=o(n),d=Object(r.useRef)(null),u=Object(be.a)({accept:["COLUMN","CARD"],hover:Object(je.a)(200,(function(){if(c)if("COLUMN"===c.type){if(c.id===n)return;l({type:"MOVE_LIST",payload:{draggedId:c.id,hoverId:n}})}else{if(c.columnId===n)return;if(s.length)return;l(Me(c.id,null,c.columnId,n)),l(_e(Object(fe.a)(Object(fe.a)({},c),{},{columnId:n})))}}))}),f=Object(pe.a)(u,2)[1];return(0,Re({type:"COLUMN",id:n,text:t}).drag)(f(d)),Object(Ee.jsxs)(Y,{ref:d,isPreview:a,isHidden:De(c,"COLUMN",n,a),children:[Object(Ee.jsx)($,{children:t}),s.map((function(e){return Object(Ee.jsx)(Be,{columnId:n,text:e.text,id:e.id},e.id)})),Object(Ee.jsx)(ze,{toggleButtonText:"+ Add another card",onAdd:function(e){return l(function(e,t){return{type:"ADD_TASK",payload:{text:e,listId:t}}}(e,n))},dark:!0})]})},Ke=n(53),Ue=function(){var e=Te().draggedItem,t=Object(Ke.a)((function(e){return{currentOffset:e.getSourceClientOffset()}})).currentOffset;return e&&t?Object(Ee.jsx)(ie,{children:Object(Ee.jsx)(ce,{position:t,children:"COLUMN"===e.type?Object(Ee.jsx)(Ge,{id:e.id,text:e.text,isPreview:!0}):Object(Ee.jsx)(Be,{columnId:e.columnId,isPreview:!0,id:e.id,text:e.text})})}):null},Ve=function(){var e=Te(),t=e.lists,n=e.dispatch;return Object(Ee.jsxs)(X,{children:[Object(Ee.jsx)(Ue,{}),t.map((function(e){return Object(Ee.jsx)(Ge,{text:e.text,id:e.id},e.id)})),Object(Ee.jsx)(ze,{toggleButtonText:"+ Add another list",onAdd:function(e){return n(function(e){return{type:"ADD_LIST",payload:e}}(e))}})]})},He=n(23),Je=n(54);c.a.render(Object(Ee.jsx)(a.a.StrictMode,{children:Object(Ee.jsx)(Je.a,{backend:He.a,children:Object(Ee.jsx)(Ae,{children:Object(Ee.jsx)(Ve,{})})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.aa4ee225.chunk.js.map